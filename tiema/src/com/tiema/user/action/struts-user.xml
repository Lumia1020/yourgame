<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE struts PUBLIC
        "-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
        "http://struts.apache.org/dtds/struts-2.0.dtd">

<struts>

	<package name="default-user" namespace="/default/user" extends="struts-default">
		<action name="user" class="userAction">
			<result>/main.jsp</result>
			<result name="input">/index.jsp</result>
		</action>
		<action name="center">
			<result>/center.jsp</result>
		</action>
	</package>

	<package name="json-user" namespace="/json/user" extends="json-default">

		<action name="success!*" class="userAction">
			<result type="json">
				<param name="includeProperties">success</param>
			</result>
		</action>

		<action name="entity-*" class="userAction" method="{1}">
			<interceptor-ref name="jsonValidationWorkflowStack" />
			<result type="json">
				<param name="enumAsBean">true</param>
				<param name="includeProperties">userView\..*,success</param>
			</result>
		</action>

		<action name="findUserViewPage" class="userAction" method="findUserViewPage">
			<result type="json">
				<param name="enumAsBean">true</param>
				<param name="root">page</param>
				<param name="includeProperties">result.*,totalCount,success</param>
				<param name="excludeProperties"><![CDATA[
					^result.*\.roleIds, 
					^result.*\.password, 
					^result.*\.homeAddress, 
					^result.*\.zipCode, 
					^result.*\.birthday,
					^result.*\.email,
					^result.*\.emergencyContacts, 
					^result.*\.emergencyPhone, 
					^result.*\.entryDate,
					^result.*\.skin ]]>
				</param>
			</result>
		</action>
		<action name="findUserPage" class="userAction" method="findUserPage">
			<result type="json">
				<param name="enumAsBean">true</param>
				<param name="root">page</param>
				<param name="includeProperties">result.*,totalCount,success</param>
				<param name="excludeProperties"><![CDATA[
					^result.*\.roles, 
					^result.*\.password, 
					^result.*\.homeAddress, 
					^result.*\.zipCode, 
					^result.*\.birthday,
					^result.*\.email,
					^result.*\.emergencyContacts, 
					^result.*\.emergencyPhone, 
					^result.*\.entryDate,
					^result.*\.skin ]]>
				</param>
			</result>
		</action>
	</package>

</struts>
